<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Steves Barbearia - Sistema de Gestão</title>
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAnZJREFUWEftl01IVFEUx3/nvWmyD6MoqEYLzaKgoI0FQUIFQkEtjanRKGhjRBQVLWzXLiKINi0KWgRBgRAtkkIzLSKINi0qKhNaVKBTkGVqOs37cSPHmXnj+HzvjRU0F2bnvXP+v3PuOfeec4WUj4lZl/8ZIK0O/DsOpACQUmAi4RUCVACNQBVQCeSAaeAr8AwYBX45fS0isCPYBRwDdgM5wEGFRGD/gE/AQ+AGMOkWwg2gEbgI7ANSpRSP0AZcBZps4Z0A6oHLwDbPPMv2SBrYGgRCKRSv7DmgTGtyFGgD3kYF4AQ4D5xVgAUrPclZyZXNiRnPURB1cxp4D6S1qEvAaSewWIJcAE4EtO6vQIsC7NDazgCDwLSa3wYc0XWHxo+APmAsSkQ3pxPACaAOWKm1adXXrXqtlQPj+rzY5hJwV8F4AogD8N4ekSrkwGNgQJ+/AxP6TNtHTppJSvU8qus6AL4A58JY4ebAFeB4RACSYv3AWZ33AOhRb2kFSZpXKQOG1KxuI5QozwMB2CK3AM+V+gTwFVgLrFErbgLvNPwvdIQsN3RdfGAYGA5bfTEAs0CbptgwMAH8UH9YDXwGPqoIbQV2aoUMGKH6rO/bLPZkALgZBsBL/xcHwBPVfBn6IWBfgP0uLcUF/c0AuKbr4ohQGACJtIRfROYj8ELzbqOK0F7gosMANyzFJe3XgPMRXDAMgNjvLOC3iqe0W6Ra8kFfN2JFpBoY1YDUaGfURlBepAQlDMBH4Jpmh7RlH9QMJBWlwUgzYgGxOmNfbNmKAiC98gv1gQ/qgnKKkZRm6Xq9TmlCpIo9tLJBAPwOk0O3fdD/TcB7P3l4QHRIrsseAAAAAElFTSuQmCC">

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar glass-card">
        <div class="nav-container">
            <div class="nav-brand">
                <div class="logo">SB</div>
                <h1>Steves Barbearia</h1>
            </div>
            <div class="nav-buttons">
                <button class="nav-btn active" id="clientAreaBtn">Área do Cliente</button>
            </div>
        </div>
    </nav>

    <div id="clientArea" class="page-section">
        <div class="container">
            <div id="clientServicesSection">
                <div class="shop-header">
                    <h2>STEVE'S BARBEARIA</h2>
                    <div class="rating">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <span style="color: var(--muted-foreground); margin-left: 0.5rem;">5.0</span>
                    </div>
                    <p class="address"><i class="fas fa-map-marker-alt"></i> Rua dos Ipês, 18 - Jardim Novo Horizonte - Rolândia/PR</p>
                </div>

                <div class="search-bar-wrapper">
                    <i class="fas fa-search"></i>
                    <input type="search" id="serviceSearchInput" placeholder="Pesquisar serviço..." class="form-group input">
                </div>

                <div id="clientServicesList" class="service-list-v2">
                </div>
            </div>

            <div id="bookingFlowContainer" class="booking-form-container" style="display: none;">
                <div class="glass-card booking-form">
                    <button id="backToServicesBtn" class="btn-icon" style="position: absolute; top: 1.5rem; left: 1.5rem; font-size: 1.5rem;">&lt;</button>

                    <div id="step1_Professionals" class="booking-step">
                        <h3 class="section-title">Selecione o Profissional</h3>
                        <div id="professionalsListContainer" class="barbers-grid">
                        </div>
                    </div>

                    <div id="step2_DateTime" class="booking-step" style="display: none;">
                        <h3 class="section-title">Escolha a Data e o Horário</h3>
                        <div class="form-group">
                            <label for="bookingDate">Data</label>
                            <input type="date" id="bookingDate" class="form-control">
                        </div>
                        <h4 style="margin-top: 2rem; margin-bottom: 1rem;">Horários disponíveis</h4>
                        <div id="availableTimesContainer" class="time-slot-grid">
                        </div>
                    </div>

                    <div id="step3_Confirmation" class="booking-step" style="display: none;">
                        <h3 class="section-title">Confirme seu Agendamento</h3>
                        <div id="confirmationSummary" class="confirmation-summary">
                        </div>
                        <form id="clientDetailsForm">
                            <div class="form-group"><label for="finalClientName">Seu Nome Completo</label><input type="text" id="finalClientName" required></div>
                            <div class="form-group"><label for="finalClientPhone">Seu Celular (com DDD)</label><input type="tel" id="finalClientPhone" placeholder="43999999999" required></div>
                            <div class="form-group">
                                <label for="observations">Alguma observação?</label>
                                <textarea id="observations" rows="2" placeholder="Ex: Não precisa lavar, etc..."></textarea>
                            </div>
                            <button type="submit" class="btn-primary" style="width: 100%;">Confirmar Agendamento</button>
                        </form>
                    </div>

                </div>
            </div>
        </div>
        <footer class="site-footer" style="text-align: center; padding: 2rem 0; margin-top: 2rem; border-top: 1px solid var(--border);">
            <p style="margin: 0; font-size: 0.9rem;">
                <button id="barberAreaBtn" style="background:none;border:none;color:var(--muted-foreground);text-decoration:underline;cursor:pointer;font-size:0.9rem;padding:0;">Login do Barbeiro</button>
            </p>
            <p style="margin: 0.5rem 0 0 0; font-size: 0.8rem; color: var(--muted-foreground);">© 2025 Steves Barbearia. Todos os direitos reservados.</p>
        </footer>
    </div>

    <div id="barberLogin" class="page-section">
        <div class="container">
            <div class="login-container">
                <div class="glass-card login-form">
                    <div class="login-header">
                        <h2>Acesso do Barbeiro</h2>
                        <p>Entre com suas credenciais</p>
                    </div>
                    <form id="loginForm">
                        <div class="form-group"><label for="username">Usuário</label><input type="text" id="username" value="barbeiro" required autocomplete="username"></div>
                        <div class="form-group"><label for="password">Senha</label><input type="password" id="password" value="123" required autocomplete="current-password"></div>
                        <button type="submit" class="btn-primary">Entrar</button>
                        <button type="button" class="btn-secondary" id="demoLoginBtn" style="margin-top:0.5rem;">Entrar como demonstração</button>
                    </form>
                    <p class="demo-info">Demo: usuário "barbeiro" senha "123"</p>
                </div>
            </div>
        </div>
    </div>

    <div id="barberDashboard" class="page-section">
        <div class="dashboard-layout">
            <aside class="dashboard-sidebar">
                <div class="sidebar-header">
                    <div class="nav-brand">
                        <div class="logo">SB</div>
                        <h2>Steves Barbearia</h2>
                    </div>
                    <button id="closeSidebarBtn" class="btn-icon" aria-label="Fechar menu"><i class="fas fa-times"></i></button>
                </div>
                <nav class="sidebar-nav">
                    <a class="nav-item" data-view="dashboardView"><i class="nav-icon fas fa-chart-bar"></i><span>Dashboard</span></a>
                    <a class="nav-item" data-view="appointmentsView"><i class="nav-icon fas fa-calendar-alt"></i><span>Agenda</span></a>
                    <a class="nav-item" data-view="comandasView"><i class="nav-icon fas fa-receipt"></i><span>Comandas Abertas</span></a>

                    <div class="nav-group">
                        <a class="nav-item nav-parent">
                            <i class="nav-icon fas fa-edit"></i>
                            <span>Cadastros</span>
                            <i class="nav-arrow fas fa-chevron-right"></i>
                        </a>
                        <div class="nav-submenu">
                            <a class="nav-item" data-view="clientsView"><i class="nav-icon fas fa-users"></i><span>Clientes</span></a>
                            <a class="nav-item" data-view="servicesView"><i class="nav-icon fas fa-cut"></i><span>Serviços</span></a>
                            <a class="nav-item" data-view="professionalsView"><i class="nav-icon fas fa-store"></i><span>Profissionais</span></a>
                        </div>
                    </div>

                    <div class="nav-group">
                        <a class="nav-item nav-parent">
                            <i class="nav-icon fas fa-dollar-sign"></i>
                            <span>Financeiro</span>
                            <i class="nav-arrow fas fa-chevron-right"></i>
                        </a>
                        <div class="nav-submenu">
                            <a class="nav-item" data-view="financialView"><i class="nav-icon fas fa-cash-register"></i><span>Caixa</span></a>
                            <a class="nav-item" data-view="reportsView"><i class="nav-icon fas fa-chart-pie"></i><span>Relatórios</span></a>
                        </div>
                    </div>
                </nav>
                <div class="sidebar-footer">
                    <button class="btn-secondary" id="logoutBtnSidebar"><i class="fas fa-door-open"></i> Sair</button>
                    <button class="btn-secondary btn-danger" id="resetDataBtn"><i class="fas fa-trash"></i> Resetar Dados (Teste)</button>
                </div>
            </aside>
            <div id="sidebarOverlay" class="sidebar-overlay"></div>

            <main class="dashboard-main">
                <button id="sidebarToggle" class="btn-icon" aria-label="Abrir menu"><i class="fas fa-bars"></i></button>
                <div class="dashboard-header">
                    <div id="header-info">
                        <h2 id="dashboardTitle">Dashboard</h2>
                        <p id="dashboardSubtitle">Visão geral do seu negócio.</p>
                    </div>
                    <div class="dashboard-header-actions">
                        <div id="caixaStatus" class="caixa-status-indicator"></div>
                        <button class="btn-secondary" id="logoutBtn"><i class="fas fa-door-open"></i> Sair</button>
                    </div>
                </div>

                <div id="dashboardView" class="content-view">
                    <div class="dashboard-grid-modern">
                        <div class="welcome-card card-grid-span-2">
                            <h3>Bem-vindo, Barbeiro!</h3>
                            <p>Aqui está um resumo rápido do seu dia.</p><button class="btn-primary-outline" id="quickAddAppointmentBtn"><i class="fas fa-plus"></i> Novo Agendamento</button><button class="btn-primary" id="welcomeOpenCaixaBtn" style="display: none; margin-left: 0.5rem;"><i class="fas fa-cash-register"></i> Abrir Caixa</button>
                        </div>
                        <div class="stat-card-modern">
                            <div class="stat-info-modern">
                                <p>Faturamento Hoje</p>
                                <h3 id="todayProfit">R$ 0,00</h3>
                            </div>
                        </div>
                        <div class="stat-card-modern">
                            <div class="stat-info-modern">
                                <p>Agendamentos Hoje</p>
                                <h3 id="todayCount">0</h3>
                            </div>
                        </div>
                        <div class="stat-card-modern">
                            <div class="stat-info-modern">
                                <p>Comandas em Aberto</p>
                                <h3 id="pendingCount">0</h3>
                            </div>
                        </div>
                        <div class="list-card card-grid-span-5">
                            <div class="section-header">
                                <h3>Próximos Agendamentos</h3><button class="btn-secondary btn-small" id="refreshBtn"><i class="fas fa-sync-alt"></i> Atualizar</button>
                            </div>
                            <div id="appointmentsList" class="appointments-list"></div>
                        </div>
                    </div>
                </div>

                <div id="appointmentsView" class="content-view">
                    <div class="glass-card">
                        <div class="section-header">
                            <div class="agenda-nav"><button id="prevDayBtn" class="btn-secondary btn-small">⟨ Anterior</button><input type="date" id="agendaDateFilter" class="form-control-small"><button id="nextDayBtn" class="btn-secondary btn-small">Próximo ⟩</button></div><button id="addAppointmentBtn" class="btn-primary">Novo Agendamento</button>
                        </div>
                        <div id="agendaViewContainer" class="agenda-view-container"></div>
                    </div>
                </div>

                <div id="comandasView" class="content-view">
                    <div class="glass-card">
                        <div class="section-header">
                            <h3>Comandas em Aberto</h3><button id="addWalkInBtn" class="btn-primary">Novo Atendimento (Encaixe)</button>
                        </div>
                        <div id="pendingAppointmentsList" class="appointments-list"></div>
                    </div>
                </div>

                <div id="clientsView" class="content-view">
                    <div class="glass-card">
                        <div class="section-header">
                            <h3>Gestão de Clientes</h3><input type="search" id="clientSearchInput" placeholder="Buscar por nome ou telefone..." class="form-control-small">
                        </div>
                        <div id="fullClientsList" class="clients-list" style="margin-top:1rem;"></div>
                    </div>
                </div>

                <div id="servicesView" class="content-view">
                    <div class="glass-card">
                        <div class="section-header">
                            <h3>Serviços Oferecidos</h3><button id="addServiceBtn" class="btn-primary">Adicionar Serviço</button>
                        </div>
                        <div id="servicesList" style="margin-top:1rem;"></div>
                    </div>
                </div>

                <div id="professionalsView" class="content-view">
                    <div class="glass-card">
                        <div class="section-header">
                            <h3>Profissionais</h3><button id="addProfessionalBtn" class="btn-primary">Adicionar Profissional</button>
                        </div>
                        <div id="professionalsList" style="margin-top:1rem;"></div>
                    </div>
                </div>

                <div id="financialView" class="content-view">
                    <div class="glass-card">
                        <div class="section-header">
                            <h3>Controle de Caixa</h3>
                            <div class="button-group"><button id="viewHistoryBtn" class="btn-secondary btn-small">Ver Histórico</button><button id="addExpenseBtnMain" class="btn-secondary btn-small">Adicionar Despesa</button><button id="openCaixaBtn" class="btn-primary">Abrir Caixa</button><button id="closeCaixaBtn" class="btn-secondary btn-danger">Fechar Caixa</button></div>
                        </div>
                        <div id="financialDashboard"></div>
                    </div>
                </div>

                <div id="reportsView" class="content-view">
                    <div class="charts-grid">
                        <div class="glass-card chart-container">
                            <div class="chart-header">
                                <h4>Faturamento dos Últimos 7 Dias</h4>
                            </div>
                            <div class="chart-wrapper"><canvas id="revenueChart"></canvas></div>
                        </div>
                        <div class="glass-card chart-container">
                            <div class="chart-header">
                                <h4>Serviços Mais Realizados</h4>
                            </div>
                            <div class="chart-wrapper"><canvas id="servicesChart"></canvas></div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <div id="modalBackdrop" class="modal-backdrop">
        <div id="modalContainer" class="modal-container glass-card">
            <div class="modal-header">
                <h3 id="modalTitle"></h3>
                <button id="closeModalBtn" class="close-modal-btn">&times;</button>
            </div>
            <div id="modalContent" class="modal-content"></div>
            <div id="modalFooter"></div>
        </div>
    </div>

    <div id="notificationContainer"></div>

    <script src="scripts.js"></script>
</body>
</html>